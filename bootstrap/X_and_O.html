<!DOCTYPE html>
<html>
    <head>
        <style>
            body{
                background-color: purple;;
            }
            .menu{
                display:flex;
                flex-wrap:wrap;
                gap:10px;
                width:260px;

            }
            .item{
                width:80px;
                height:80px;
                background-color: white;;
                display:flex;
                justify-content: center;
                align-items: center;
                font-size:30px;
            }
            /* .item:hover{
                background-color: red;
            } */
            
        </style>
    </head>
    <body>
        <div class="menu">
            <div class="item item-0"></div><div class="item item-1"></div><div class="item item-2"></div>
            <div class="item item-3"></div><div class="item item-4"></div><div class="item item-5"></div>
            <div class="item item-6"></div><div class="item item-7"></div><div class="item item-8"></div>
            <!-- <button class="choose" onclick="chooseX()">Choose X</button>
            <button class="choose" onclick="chooseY()">Choose Y</button> -->
        </div>
        <div>
            <h1>Turn: </h1>
            <h2 id="turn">Player 1: X</h2>
            <h1>Winner: </h1>
            <h2 id="winner"></h2>
            <button id="restart" hidden> Restart</button>
        </div>
        <script>
            let item = document.getElementsByClassName('item');
            let restart = document.getElementById('restart');
            let winner = document.getElementById('winner');
            let turn = document.getElementById('turn');

            item_click = function(event){
                let that = event.currentTarget;
                
                if(that.textContent !== ''){
                    return;
                }

                that.textContent = get_sign();

                if(check_winner() === 1){
                    winner.textContent = "Player 1";
                    restart.attributes.removeNamedItem('hidden');
                }else if(check_winner() === 2){
                    winner.textContent = "Player 2";
                    restart.attributes.removeNamedItem('hidden');
                } 

            }

            let get_turn = function(){
                if(turn.textContent === "Player 1: X"){
                    turn.textContent = "Player 2: O";
                    return 1;
                } else if(turn.textContent = "Player 2: O"){
                    turn.textContent = "Player 1: X";
                    return 0;
                } 
            }

            let get_sign = function(){
                playerToPlay = get_turn();

                if(playerToPlay === 1){
                    return 'X';
                } else if(playerToPlay === 0){
                    return 'O';
                }

            }
            let check_winner = function(){
                if(item[0].textContent === item[3].textContent && item[3].textContent === item[6].textContent && item[6].textContent !== ''){
                    if(item[3].textContent === 'X'){
                        return 1;
                    }
                    return 2;
                }
                else if(item[1].textContent === item[4].textContent && item[4].textContent === item[7].textContent && item[7].textContent !== ''){
                    if(item[4].textContent === 'X'){
                        return 1;
                    }
                    return 2;
                }
                else if(item[2].textContent === item[5].textContent && item[5].textContent === item[8].textContent && item[8].textContent !== ''){
                    if(item[5].textContent === 'X'){
                        return 1;
                    }
                    return 2;
                }
                else if(item[0].textContent === item[4].textContent && item[4].textContent === item[8].textContent && item[8].textContent !== ''){
                    if(item[4].textContent === 'X'){
                        return 1;
                    }
                    return 2;
                }
                else if(item[6].textContent === item[4].textContent && item[4].textContent === item[2].textContent && item[2].textContent !== ''){
                    if(item[4].textContent === 'X'){
                        return 1;
                    }
                    return 2;
                }
                else if(item[0].textContent === item[1].textContent && item[1].textContent === item[2].textContent && item[2].textContent !== ''){
                    if(item[1].textContent === 'X'){
                        return 1;
                    }
                    return 2;
                }
                else if(item[3].textContent === item[4].textContent && item[4].textContent === item[5].textContent && item[5].textContent !== ''){
                    if(item[4].textContent === 'X'){
                        return 1;
                    }
                    return 2;
                }
                else if(item[6].textContent === item[7].textContent && item[7].textContent === item[8].textContent && item[8].textContent !== ''){
                    if(item[7].textContent === 'X'){
                        return 1;
                    }
                    return 2;
                } else

                return false;
            }

            for(let index = 0; index < item.length; index ++){
                item[index].addEventListener('click', item_click);
            }

            let restart_game = function(){
                location.reload();
            }

            restart.addEventListener('click', restart_game);

        </script>
    </body>
</html>